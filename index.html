<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APC Councilors Wardship Nomination Form</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5; /* Light grey background */
        }
        .gradient-header {
            background-image: linear-gradient(to right, #006400, #228b22, #3cb371); /* Enhanced gradient */
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        .gradient-button {
            background-image: linear-gradient(to right, #006400, #228b22, #2e8b57); /* Enhanced gradient */
            transition: all 0.3s ease;
        }
        .gradient-button:hover {
            background-image: linear-gradient(to right, #2e8b57, #228b22, #006400);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 100, 0, 0.4);
        }
        .card {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12); /* Enhanced shadow */
            padding: 2.5rem;
        }
        .form-label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            font-size: 1rem;
            color: #374151; /* gray-700 */
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: #006400; /* APC Green */
            box-shadow: 0 0 0 3px rgba(0, 100, 0, 0.2);
            outline: none;
            transform: scale(1.02); /* Slight scale on focus for interactivity */
        }
        .form-input:read-only {
            background-color: #e5e7eb; /* gray-200 */
            color: #4b5563; /* gray-600 */
            font-weight: 600;
            cursor: not-allowed;
            border-color: #16a34a; /* green-600 */
        }
        .form-select:disabled {
            background-color: #f3f4f6; /* gray-100 */
            cursor: not-allowed;
        }
        .apc-gold { background-color: #FFD700; color: #000; }
        .apc-green { background-color: #006400; color: #fff; }

        .hidden { display: none; }

        /* Custom checkbox/radio styles */
        input[type="checkbox"], input[type="radio"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            display: inline-block;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #006400;
            border-radius: 0.25rem;
            position: relative;
            cursor: pointer;
            vertical-align: middle;
            margin-right: 0.5rem;
        }
        input[type="radio"] { border-radius: 50%; }
        input[type="checkbox"]:checked, input[type="radio"]:checked {
            background-color: #006400;
            border-color: #006400;
        }
        input[type="checkbox"]:checked::after {
            content: '✓';
            color: white;
            font-size: 1rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        input[type="radio"]:checked::after {
            content: '';
            width: 0.625rem;
            height: 0.625rem;
            background-color: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Lock Screen Overlay */
        #lock-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(8px);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        .lock-card {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            text-align: center;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        /* Chat Styles */
        #chat-messages {
            height: 400px;
            overflow-y: auto;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 1rem;
            background-color: #f9fafb;
        }
        .chat-bubble {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            margin-bottom: 1rem;
            animation: fadeInUp 0.5s ease;
        }
        .chat-bot {
            background-color: #006400;
            color: white;
            margin-right: auto;
        }
        .chat-user {
            background-color: #e5e7eb;
            color: #333;
            margin-left: auto;
        }
        .chat-typing {
            background-color: #006400;
            color: white;
            margin-right: auto;
            padding: 0.5rem 1rem;
            border-radius: 1rem;
            display: flex;
            align-items: center;
        }
        .chat-typing::after {
            content: '...';
            animation: typing 1s steps(3, end) infinite;
        }
        @keyframes typing {
            0% { content: '.'; }
            33% { content: '..'; }
            66% { content: '...'; }
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .error-message {
            color: red;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center py-10 px-4">

    <!-- LOCK SCREEN OVERLAY -->
    <div id="lock-overlay">
        <div class="lock-card">
            <svg class="mx-auto h-16 w-16 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 0 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
            </svg>
            <h2 class="mt-4 text-2xl font-bold text-gray-800" data-i18n="access_denied">Access Denied</h2>
            <p class="mt-2 text-gray-600" data-i18n="nomination_code_required">A valid nomination code is required to access this form.</p>
            <p class="mt-4 text-sm font-medium text-gray-700" data-i18n="scan_qr">Please scan the QR code on your official APC nomination card to proceed. If you have just purchased your card, please try again.</p>
        </div>
    </div>

    <!-- MAIN FORM CONTAINER -->
    <div id="main-form-container" class="max-w-4xl w-full hidden">
        <!-- HEADER -->
        <header class="gradient-header text-white p-8 rounded-t-xl flex flex-col md:flex-row items-center justify-between text-center md:text-left shadow-lg animate__animated animate__fadeInDown">
            <div class="flex items-center space-x-4 mb-4 md:mb-0">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqsRHyM2yS67F34fBfngJ3oC9U2GuLtUawNOh9qrYPn6WCON3BZzZA2NUS&s=10" alt="APC Logo" class="h-20 w-20 rounded-full bg-white p-2 border-2 border-yellow-400">
                <div>
                    <h1 class="text-3xl font-bold mb-1" data-i18n="apc_wardship_nomination_form">APC Wardship Nomination Form</h1>
                    <p class="text-lg font-light" data-i18n="councilor_aspirant_registration">Councilor Aspirant Registration</p>
                </div>
            </div>
            <div class="text-yellow-400 font-semibold text-xl" data-i18n="apc_congress_2025">APC Congress 2025</div>
        </header>

        <div class="card">
            <!-- LANGUAGE SELECTOR -->
            <div id="language-selector" class="text-center mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Choose Language / Yan Harshe / Zaɓi Harshe / Họrọ Asụsụ</h2>
                <div class="flex justify-center space-x-4">
                    <label class="flex items-center cursor-pointer">
                        <input type="radio" name="language" value="en" checked>
                        <span class="text-gray-700">English</span>
                    </label>
                    <label class="flex items-center cursor-pointer">
                        <input type="radio" name="language" value="yo">
                        <span class="text-gray-700">Yoruba</span>
                    </label>
                    <label class="flex items-center cursor-pointer">
                        <input type="radio" name="language" value="ha">
                        <span class="text-gray-700">Hausa</span>
                    </label>
                    <label class="flex items-center cursor-pointer">
                        <input type="radio" name="language" value="ig">
                        <span class="text-gray-700">Igbo</span>
                    </label>
                </div>
            </div>

            <!-- MODE SELECTOR -->
            <div id="mode-selector" class="text-center mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4" data-i18n="choose_interaction_mode">Choose Interaction Mode</h2>
                <div class="flex justify-center space-x-4">
                    <button id="form-mode-btn" class="gradient-button text-white font-bold py-3 px-8 rounded-full text-lg shadow-md hover:shadow-xl transition-all duration-300" data-i18n="normal_form">Normal Form</button>
                    <button id="chat-mode-btn" class="gradient-button text-white font-bold py-3 px-8 rounded-full text-lg shadow-md hover:shadow-xl transition-all duration-300" data-i18n="chat_with_secretary">Chat with the Secretary</button>
                </div>
            </div>

            <!-- FORM SECTION -->
            <div id="form-section" class="hidden">
                <form id="nomination-form" class="space-y-8">
                    <!-- SECTION 1: PERSONAL INFORMATION -->
                    <section class="border-b pb-8 border-gray-200 animate__animated animate__fadeIn">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3 border-yellow-400" data-i18n="personal_information">1. Aspirant's Personal Information</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="full_name" class="form-label" data-i18n="full_name">Full Name</label>
                                <input type="text" id="full_name" name="full_name" class="form-input" data-i18n-placeholder="enter_full_name" placeholder="Enter your full name" required>
                                <span id="full_name_error" class="error-message hidden" data-i18n="full_name_required">Full name is required.</span>
                            </div>
                            <div>
                                <label for="dob" class="form-label" data-i18n="date_of_birth">Date of Birth</label>
                                <input type="date" id="dob" name="dob" class="form-input" required max="2025-10-27">
                                <span id="dob_error" class="error-message hidden" data-i18n="valid_dob_required">Valid date of birth is required (must be in the past).</span>
                            </div>
                            <div>
                                <label for="gender" class="form-label" data-i18n="gender">Gender</label>
                                <select id="gender" name="gender" class="form-select" required>
                                    <option value="" data-i18n="select_gender">Select Gender</option>
                                    <option value="male" data-i18n="male">Male</option>
                                    <option value="female" data-i18n="female">Female</option>
                                </select>
                                <span id="gender_error" class="error-message hidden" data-i18n="gender_required">Gender is required.</span>
                            </div>
                            <div>
                                <label for="phone" class="form-label" data-i18n="phone_number">Phone Number</label>
                                <input type="tel" id="phone" name="phone" class="form-input" data-i18n-placeholder="phone_example" placeholder="e.g., 08012345678" required pattern="0\d{10}">
                                <span id="phone_error" class="error-message hidden" data-i18n="valid_phone_required">Valid Nigerian phone number is required (11 digits starting with 0).</span>
                            </div>
                            <div class="md:col-span-2">
                                <label for="email" class="form-label" data-i18n="email_address">Email Address</label>
                                <input type="email" id="email" name="email" class="form-input" data-i18n-placeholder="email_example" placeholder="e.g., yourname@example.com">
                                <span id="email_error" class="error-message hidden" data-i18n="valid_email_required">Valid email is required if provided.</span>
                            </div>
                            <div>
                                <label for="state_of_origin" class="form-label" data-i18n="state_of_origin">State of Origin</label>
                                <select id="state_of_origin" name="state_of_origin" class="form-select" required>
                                    <option value="" data-i18n="select_state_of_origin">Select State of Origin</option>
                                </select>
                                <span id="state_of_origin_error" class="error-message hidden" data-i18n="state_of_origin_required">State of origin is required.</span>
                            </div>
                            <div>
                                <label for="lga_of_origin" class="form-label" data-i18n="lga_of_origin">LGA of Origin</label>
                                <select id="lga_of_origin" name="lga_of_origin" class="form-select" required disabled>
                                    <option value="" data-i18n="select_lga_of_origin">Select LGA of Origin</option>
                                </select>
                                <span id="lga_of_origin_error" class="error-message hidden" data-i18n="lga_of_origin_required">LGA of origin is required.</span>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION 2: CONTACT INFORMATION -->
                    <section class="border-b pb-8 border-gray-200 animate__animated animate__fadeIn">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3 border-yellow-400" data-i18n="contact_information">2. Contact Information</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="address" class="form-label" data-i18n="residential_address">Residential Address</label>
                                <input type="text" id="address" name="address" class="form-input" data-i18n-placeholder="house_number_street" placeholder="House number, street name" required>
                                <span id="address_error" class="error-message hidden" data-i18n="residential_address_required">Residential address is required.</span>
                            </div>
                            <div>
                                <label for="city" class="form-label" data-i18n="city_town">City/Town</label>
                                <input type="text" id="city" name="city" class="form-input" data-i18n-placeholder="city_example" placeholder="e.g., Abuja" required>
                                <span id="city_error" class="error-message hidden" data-i18n="city_town_required">City/town is required.</span>
                            </div>
                            <div>
                                <label for="state_of_residence" class="form-label" data-i18n="state_of_residence">State of Residence</label>
                                <select id="state_of_residence" name="state_of_residence" class="form-select" required>
                                    <option value="" data-i18n="select_state_of_residence">Select State of Residence</option>
                                </select>
                                <span id="state_of_residence_error" class="error-message hidden" data-i18n="state_of_residence_required">State of residence is required.</span>
                            </div>
                            <div>
                                <label for="lga_of_residence" class="form-label" data-i18n="lga_of_residence">LGA of Residence</label>
                                <select id="lga_of_residence" name="lga_of_residence" class="form-select" required disabled>
                                    <option value="" data-i18n="select_lga_of_residence">Select LGA of Residence</option>
                                </select>
                                <span id="lga_of_residence_error" class="error-message hidden" data-i18n="lga_of_residence_required">LGA of residence is required.</span>
                            </div>
                            <div class="md:col-span-2">
                                <label for="ward" class="form-label" data-i18n="ward">Ward</label>
                                <input type="text" id="ward" name="ward" class="form-input" data-i18n-placeholder="enter_ward" placeholder="Enter your Ward name/number" required>
                                <span id="ward_error" class="error-message hidden" data-i18n="ward_required">Ward is required.</span>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION 3: PARTY AFFILIATION -->
                    <section class="border-b pb-8 border-gray-200 animate__animated animate__fadeIn">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3 border-yellow-400" data-i18n="party_affiliation">3. Party Affiliation</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="nomination_code" class="form-label" data-i18n="nomination_code_verified">Nomination Code (Verified)</label>
                                <input type="text" id="nomination_code" name="nomination_code" class="form-input" readonly required>
                            </div>
                            <div>
                                <label for="apc_reg_no" class="form-label" data-i18n="apc_membership_registration_number">APC Membership Registration Number</label>
                                <input type="text" id="apc_reg_no" name="apc_reg_no" class="form-input" data-i18n-placeholder="enter_apc_reg_no" placeholder="Enter APC Reg. No." required>
                                <span id="apc_reg_no_error" class="error-message hidden" data-i18n="apc_registration_number_required">APC registration number is required.</span>
                            </div>
                            <div class="md:col-span-2">
                                <label for="apc_join_date" class="form-label" data-i18n="date_joined_apc">Date Joined APC</label>
                                <input type="date" id="apc_join_date" name="apc_join_date" class="form-input" required max="2025-10-27">
                                <span id="apc_join_date_error" class="error-message hidden" data-i18n="valid_join_date_required">Valid join date is required (must be in the past).</span>
                            </div>
                            <div class="md:col-span-2">
                                <label class="form-label" data-i18n="held_party_position_before">Have you held any party position before?</label>
                                <div class="flex items-center space-x-6 mt-2">
                                    <label class="flex items-center cursor-pointer">
                                        <input type="radio" name="held_position" value="yes" id="pos_yes">
                                        <span class="text-gray-700" data-i18n="yes">Yes</span>
                                    </label>
                                    <label class="flex items-center cursor-pointer">
                                        <input type="radio" name="held_position" value="no" id="pos_no" checked>
                                        <span class="text-gray-700" data-i18n="no">No</span>
                                    </label>
                                </div>
                                <span id="held_position_error" class="error-message hidden" data-i18n="this_field_required">This field is required.</span>
                            </div>
                            <div id="previous_position_section" class="md:col-span-2 hidden">
                                <label for="previous_position" class="form-label" data-i18n="if_yes_state_positions_years">If Yes, please state the position(s) and year(s)</label>
                                <textarea id="previous_position" name="previous_position" rows="3" class="form-textarea" data-i18n-placeholder="previous_position_example" placeholder="e.g., Ward Secretary (2018-2020)"></textarea>
                                <span id="previous_position_error" class="error-message hidden" data-i18n="this_field_required_if_yes">This field is required if yes.</span>
                            </div>
                        </div>
                    </section>

                    <!-- SECTION 4: ACADEMIC QUALIFICATIONS -->
                    <section class="border-b pb-8 border-gray-200 animate__animated animate__fadeIn">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3 border-yellow-400" data-i18n="academic_qualifications">4. Academic Qualifications</h2>
                        <p class="text-gray-600 mb-4" data-i18n="list_qualifications">Please list your academic qualifications, starting from the highest.</p>
                        <div id="qualifications_container" class="space-y-4">
                            <div class="qualification-entry grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
                                <div>
                                    <label for="qualification_1_degree" class="form-label" data-i18n="degree_certificate">Degree/Certificate</label>
                                    <input type="text" id="qualification_1_degree" name="qualification_degree[]" class="form-input" data-i18n-placeholder="degree_example" placeholder="e.g., B.Sc. Political Science" required>
                                    <span id="qualification_1_degree_error" class="error-message hidden" data-i18n="degree_required">Degree is required.</span>
                                </div>
                                <div>
                                    <label for="qualification_1_institution" class="form-label" data-i18n="institution">Institution</label>
                                    <input type="text" id="qualification_1_institution" name="qualification_institution[]" class="form-input" data-i18n-placeholder="institution_example" placeholder="e.g., University of Lagos" required>
                                    <span id="qualification_1_institution_error" class="error-message hidden" data-i18n="institution_required">Institution is required.</span>
                                </div>
                                <div>
                                    <label for="qualification_1_year" class="form-label" data-i18n="year_obtained">Year Obtained</label>
                                    <input type="number" id="qualification_1_year" name="qualification_year[]" class="form-input" data-i18n-placeholder="year_example" placeholder="e.g., 2010" required min="1950" max="2025">
                                    <span id="qualification_1_year_error" class="error-message hidden" data-i18n="year_between_required">Year between 1950 and 2025 is required.</span>
                                </div>
                            </div>
                        </div>
                        <button type="button" id="add_qualification" class="mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white apc-green hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-apc-green transition-colors" data-i18n="add_another_qualification">
                            <svg class="-ml-1 mr-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                            </svg>
                            Add Another Qualification
                        </button>
                    </section>

                    <!-- SECTION 5: DECLARATION -->
                    <section class="animate__animated animate__fadeIn">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3 border-yellow-400" data-i18n="declaration">5. Declaration</h2>
                        <div class="flex items-start mb-6">
                            <label for="declaration" class="flex items-start cursor-pointer">
                                <input type="checkbox" id="declaration" name="declaration" class="mt-1" required>
                                <span class="ml-3 text-gray-700 text-base leading-relaxed" data-i18n="declaration_text">
                                    I solemnly declare that all information provided in this nomination form is true and correct to the best of my knowledge and belief. I understand that any false information may lead to disqualification.
                                </span>
                            </label>
                        </div>
                        <span id="declaration_error" class="error-message hidden" data-i18n="agree_declaration_required">You must agree to the declaration.</span>
                    </section>

                    <!-- SUBMIT BUTTON -->
                    <div class="text-center pt-4">
                        <button type="submit" class="gradient-button text-white font-bold py-3 px-10 rounded-full text-lg shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-green-300 focus:ring-opacity-75 transition-all duration-300" data-i18n="submit_nomination_form">
                            Submit Nomination Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- CHAT SECTION -->
            <div id="chat-section" class="hidden">
                <div id="chat-messages" class="space-y-4 mb-4"></div>
                <div class="flex">
                    <input id="chat-input" type="text" class="form-input flex-1 mr-2" data-i18n-placeholder="type_response" placeholder="Type your response...">
                    <button id="chat-send" class="gradient-button text-white font-bold py-2 px-4 rounded-md shadow-md hover:shadow-xl transition-all duration-300" data-i18n="send">Send</button>
                </div>
                <div id="chat-submit-section" class="text-center pt-4 hidden">
                    <button id="chat-submit" class="gradient-button text-white font-bold py-3 px-10 rounded-full text-lg shadow-xl hover:shadow-2xl transition-all duration-300" data-i18n="submit_nomination">Submit Nomination</button>
                </div>
            </div>

            <!-- SUCCESS SECTION -->
            <div id="success-section" class="hidden text-center">
                <h2 class="text-2xl font-bold text-green-600 mb-6 animate__animated animate__bounceIn" data-i18n="submission_successful">Submission Successful!</h2>
                <div class="flex justify-center space-x-4">
                    <button id="download-form-btn" class="gradient-button text-white font-bold py-3 px-8 rounded-full text-lg shadow-md hover:shadow-xl transition-all duration-300" data-i18n="download_filled_form">Download Filled Form</button>
                    <button id="download-receipt-btn" class="gradient-button text-white font-bold py-3 px-8 rounded-full text-lg shadow-md hover:shadow-xl transition-all duration-300" data-i18n="download_receipt">Download Receipt</button>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="mt-8 text-center text-gray-600 text-sm">
            <p data-i18n="copyright_apc">&copy; 2025 All Progressives Congress (APC). All Rights Reserved.</p>
            <p data-i18n="powered_by">Powered by APC Directorate of Digital Operations.</p>
        </footer>
    </div>

    <!-- JAVASCRIPT SECTION -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const { jsPDF } = window.jspdf;

            // Translations
            const translations = {
                en: {
                    full_name: 'Full Name',
                    enter_full_name: 'Enter your full name',
                    date_of_birth: 'Date of Birth',
                    gender: 'Gender',
                    select_gender: 'Select Gender',
                    male: 'Male',
                    female: 'Female',
                    phone_number: 'Phone Number',
                    phone_example: 'e.g., 08012345678',
                    email_address: 'Email Address',
                    email_example: 'e.g., yourname@example.com',
                    state_of_origin: 'State of Origin',
                    select_state_of_origin: 'Select State of Origin',
                    lga_of_origin: 'LGA of Origin',
                    select_lga_of_origin: 'Select LGA of Origin',
                    residential_address: 'Residential Address',
                    house_number_street: 'House number, street name',
                    city_town: 'City/Town',
                    city_example: 'e.g., Abuja',
                    state_of_residence: 'State of Residence',
                    select_state_of_residence: 'Select State of Residence',
                    lga_of_residence: 'LGA of Residence',
                    select_lga_of_residence: 'Select LGA of Residence',
                    ward: 'Ward',
                    enter_ward: 'Enter your Ward name/number',
                    nomination_code_verified: 'Nomination Code (Verified)',
                    apc_membership_registration_number: 'APC Membership Registration Number',
                    enter_apc_reg_no: 'Enter APC Reg. No.',
                    date_joined_apc: 'Date Joined APC',
                    held_party_position_before: 'Have you held any party position before?',
                    yes: 'Yes',
                    no: 'No',
                    if_yes_state_positions_years: 'If Yes, please state the position(s) and year(s)',
                    previous_position_example: 'e.g., Ward Secretary (2018-2020)',
                    degree_certificate: 'Degree/Certificate',
                    degree_example: 'e.g., B.Sc. Political Science',
                    institution: 'Institution',
                    institution_example: 'e.g., University of Lagos',
                    year_obtained: 'Year Obtained',
                    year_example: 'e.g., 2010',
                    add_another_qualification: 'Add Another Qualification',
                    declaration: 'Declaration',
                    declaration_text: 'I solemnly declare that all information provided in this nomination form is true and correct to the best of my knowledge and belief. I understand that any false information may lead to disqualification.',
                    submit_nomination_form: 'Submit Nomination Form',
                    choose_interaction_mode: 'Choose Interaction Mode',
                    normal_form: 'Normal Form',
                    chat_with_secretary: 'Chat with the Secretary',
                    submission_successful: 'Submission Successful!',
                    download_filled_form: 'Download Filled Form',
                    download_receipt: 'Download Receipt',
                    welcome: 'Welcome to the APC Nomination Chat with the Secretary! I\'ll ask questions one by one.',
                    nomination_code_verified: 'Your nomination code is verified:',
                    full_name_question: 'What is your full name?',
                    dob_question: 'What is your date of birth? (Format: YYYY-MM-DD)',
                    gender_question: 'What is your gender? (male/female)',
                    phone_question: 'What is your phone number? (e.g., 08012345678)',
                    email_question: 'What is your email address? (optional)',
                    state_of_origin_question: 'What is your state of origin?',
                    lga_of_origin_question: 'What is your LGA of origin?',
                    residential_address_question: 'What is your residential address?',
                    city_question: 'What is your city/town?',
                    state_of_residence_question: 'What is your state of residence?',
                    lga_of_residence_question: 'What is your LGA of residence?',
                    ward_question: 'What is your ward?',
                    apc_reg_no_question: 'What is your APC membership registration number?',
                    apc_join_date_question: 'What is the date you joined APC? (Format: YYYY-MM-DD)',
                    held_position_question: 'Have you held any party position before? (yes/no)',
                    previous_position_question: 'Please state the position(s) and year(s). (e.g., Ward Secretary (2018-2020))',
                    academic_qualifications_intro: 'Now, let\'s add your academic qualifications. Starting with the highest.',
                    degree_question: 'What is your degree/certificate? (e.g., B.Sc. Political Science)',
                    institution_question: 'What is the institution? (e.g., University of Lagos)',
                    year_question: 'What is the year obtained? (e.g., 2010)',
                    add_another_qualification_question: 'Do you want to add another qualification? (yes/no)',
                    declaration_question: 'Do you agree to the declaration? (I solemnly declare that all information provided is true... Type "yes" to agree.)',
                    all_questions_answered: 'All questions answered! Click "Submit Nomination" below.',
                    send: 'Send',
                    submit_nomination: 'Submit Nomination',
                    full_name_required: 'Full name is required.',
                    valid_dob_required: 'Valid date of birth is required (must be in the past).',
                    gender_required: 'Gender is required.',
                    valid_phone_required: 'Valid Nigerian phone number is required (11 digits starting with 0).',
                    valid_email_required: 'Valid email is required if provided.',
                    state_of_origin_required: 'State of origin is required.',
                    lga_of_origin_required: 'LGA of origin is required.',
                    residential_address_required: 'Residential address is required.',
                    city_town_required: 'City/town is required.',
                    state_of_residence_required: 'State of residence is required.',
                    lga_of_residence_required: 'LGA of residence is required.',
                    ward_required: 'Ward is required.',
                    apc_registration_number_required: 'APC registration number is required.',
                    valid_join_date_required: 'Valid join date is required (must be in the past).',
                    this_field_required: 'This field is required.',
                    this_field_required_if_yes: 'This field is required if yes.',
                    degree_required: 'Degree is required.',
                    institution_required: 'Institution is required.',
                    year_between_required: 'Year between 1950 and 2025 is required.',
                    agree_declaration_required: 'You must agree to the declaration.',
                    invalid_date_format: 'Invalid date format or date must be in the past (YYYY-MM-DD).',
                    enter_male_female: 'Please enter "male" or "female".',
                    invalid_email_format: 'Invalid email format.',
                    invalid_state_name: 'Invalid state name.',
                    invalid_lga: 'Invalid LGA for the selected state.',
                    enter_yes_no: 'Please enter "yes" or "no".',
                    previous_position_required: 'Previous position details are required.',
                    type_yes_to_agree: 'You must type "yes" to agree to the declaration.',
                    personal_information: '1. Aspirant\'s Personal Information',
                    contact_information: '2. Contact Information',
                    party_affiliation: '3. Party Affiliation',
                    academic_qualifications: '4. Academic Qualifications',
                    list_qualifications: 'Please list your academic qualifications, starting from the highest.',
                    declaration: '5. Declaration',
                    access_denied: 'Access Denied',
                    nomination_code_required: 'A valid nomination code is required to access this form.',
                    scan_qr: 'Please scan the QR code on your official APC nomination card to proceed. If you have just purchased your card, please try again.',
                    apc_wardship_nomination_form: 'APC Wardship Nomination Form',
                    councilor_aspirant_registration: 'Councilor Aspirant Registration',
                    apc_congress_2025: 'APC Congress 2025',
                    copyright_apc: '&copy; 2025 All Progressives Congress (APC). All Rights Reserved.',
                    powered_by: 'Powered by APC Directorate of Digital Operations.',
                    // Add more keys as needed
                },
                yo: {
                    full_name: 'Orukọ ni kikun',
                    enter_full_name: 'Tẹ orukọ rẹ ni kikun',
                    date_of_birth: 'Ọjọ ibi',
                    gender: 'Iwa',
                    select_gender: 'Yan Iwa',
                    male: 'Ọkùnrin',
                    female: 'Obìnrin',
                    phone_number: 'Nọmba foonu',
                    phone_example: 'Fun apẹẹrẹ, 08012345678',
                    email_address: 'Adirẹsi imeeli',
                    email_example: 'Fun apẹẹrẹ, orukọrẹ@example.com',
                    state_of_origin: 'Ipinle ti o wa',
                    select_state_of_origin: 'Yan Ipinle ti o wa',
                    lga_of_origin: 'LGA ti o wa',
                    select_lga_of_origin: 'Yan LGA ti o wa',
                    residential_address: 'Adirẹsi ibugbe',
                    house_number_street: 'Nọmba ile, orukọ opopona',
                    city_town: 'Ilu/Ilu',
                    city_example: 'Fun apẹẹrẹ, Abuja',
                    state_of_residence: 'Ipinle ti ngbe',
                    select_state_of_residence: 'Yan Ipinle ti ngbe',
                    lga_of_residence: 'LGA ti ngbe',
                    select_lga_of_residence: 'Yan LGA ti ngbe',
                    ward: 'Wadi',
                    enter_ward: 'Tẹ orukọ wadi rẹ / nọmba',
                    nomination_code_verified: 'Koodu yiyan (Ti fọwọsi)',
                    apc_membership_registration_number: 'Nọmba Iforukọsilẹ APC',
                    enter_apc_reg_no: 'Tẹ APC Reg. No.',
                    date_joined_apc: 'Ọjọ ti o darapọ mọ APC',
                    held_party_position_before: 'Ṣe o ti di ipo ẹgbẹ kan tẹlẹ?',
                    yes: 'Bẹẹni',
                    no: 'Rara',
                    if_yes_state_positions_years: 'Ti Bẹẹni, jọwọ sọ ipo (rẹ) ati ọdun (rẹ)',
                    previous_position_example: 'Fun apẹẹrẹ, Akọwe Wadi (2018-2020)',
                    degree_certificate: 'Degree/Sertifika',
                    degree_example: 'Fun apẹẹrẹ, B.Sc. Imọ-ọrọ Orilẹ-ede',
                    institution: 'Ìdásílẹ̀',
                    institution_example: 'Fun apẹẹrẹ, University of Lagos',
                    year_obtained: 'Ọdún Gba',
                    year_example: 'Fun apẹẹrẹ, 2010',
                    add_another_qualification: 'Fi Afikun Ijẹrisi Miiran kun',
                    declaration: 'Ipolowo',
                    declaration_text: 'Mo ń sọ̀rọ̀ ní ìdásílẹ̀ pé gbogbo ìwé ìròyìn tí a fún ni òtítọ́ ati òtítọ́ sí ojú ìwòye mi àti ìgbàgbọ́. Mo lóye pé eyikeyi ìròyìn eke le yori si disqualification.',
                    submit_nomination_form: 'Fífi Orukọ Iṣẹ',
                    choose_interaction_mode: 'Yan Iwa Iṣẹ',
                    normal_form: 'Fọọmu Normal',
                    chat_with_secretary: 'Ibaṣepọ pẹlu Akowe',
                    submission_successful: 'Iṣẹ Iṣẹ Gba!',
                    download_filled_form: 'Gba Fọọmu Ti Kun',
                    download_receipt: 'Gba Iwe',
                    welcome: 'Kaabọ si Ibaṣepọ Orukọ APC pẹlu Akowe! Mo ni ibeere ibeere ni ọkan si ọkan.',
                    nomination_code_verified: 'Koodu orukọ rẹ ti fọwọsi:',
                    full_name_question: 'Kí ni orukọ rẹ ni kikun?',
                    dob_question: 'Kí ni ọjọ ibi rẹ? (Format: YYYY-MM-DD)',
                    gender_question: 'Kí ni iwa rẹ? (ọkùnrin/obìnrin)',
                    phone_question: 'Kí ni nọmba foonu rẹ? (fun apẹẹrẹ, 08012345678)',
                    email_question: 'Kí ni adirẹsi imeeli rẹ? (optional)',
                    state_of_origin_question: 'Kí ni ipinle ti o wa?',
                    lga_of_origin_question: 'Kí ni LGA ti o wa?',
                    residential_address_question: 'Kí ni adirẹsi ibugbe rẹ?',
                    city_question: 'Kí ni ilu/ilu rẹ?',
                    state_of_residence_question: 'Kí ni ipinle ti ngbe rẹ?',
                    lga_of_residence_question: 'Kí ni LGA ti ngbe rẹ?',
                    ward_question: 'Kí ni wadi rẹ?',
                    apc_reg_no_question: 'Kí ni nọmba iforukọsilẹ ọmọ ẹgbẹ APC rẹ?',
                    apc_join_date_question: 'Kí ni ọjọ ti o darapọ mọ APC? (Format: YYYY-MM-DD)',
                    held_position_question: 'Ṣe o ti di ipo ẹgbẹ kan tẹlẹ? (bẹẹni/rara)',
                    previous_position_question: 'Jọwọ sọ ipo (rẹ) ati ọdun (rẹ). (fun apẹẹrẹ, Akọwe Wadi (2018-2020))',
                    academic_qualifications_intro: 'Bayi, jẹ ki a fi afikun ẹkọ rẹ kun. Bẹrẹ pẹlu ti o ga julọ.',
                    degree_question: 'Kí ni degree/sertifika rẹ? (fun apẹẹrẹ, B.Sc. Imọ-ọrọ Orilẹ-ede)',
                    institution_question: 'Kí ni ìdásílẹ̀? (fun apẹẹrẹ, University of Lagos)',
                    year_question: 'Kí ni ọdún ti a gba? (fun apẹẹrẹ, 2010)',
                    add_another_qualification_question: 'Ṣe o fẹ fi afikun ijẹrisi miiran kun? (bẹẹni/rara)',
                    declaration_question: 'Ṣe o gbà fún ìpolówó yìí? (Mo ń sọ́kálẹ̀ ní ìfẹ́kún pé gbogbo ìwàásù tí a fúnni jẹ́ òtítọ́... Kọ̀wé "bẹẹni" láti gbà.)',
                    all_questions_answered: 'Gbogbo ibeere ti dahun! Tẹ "Fífi ìsọdáṣiṣẹ́" ní isalẹ.',
                    send: 'Fífi ránṣẹ́',
                    submit_nomination: 'Fífi ìsọdáṣiṣẹ́',
                    full_name_required: 'Orúkọ tí ó péyé ni a nilo.',
                    valid_dob_required: 'Ọjọ́ ìbí tí ó tọ́ ni a nilo (gbọ́dọ̀ jẹ́ ti òde òní).',
                    gender_required: 'Ìbálòpọ̀ ni a nilo.',
                    valid_phone_required: 'Nọ́mbà fọ́nù tí ó tọ́ fún Nàìjíríà ni a nilo (ìsọ́jú 11 tí ó bẹ̀rẹ̀ pẹ̀lú 0).',
                    valid_email_required: 'Imeeli tí ó tọ́ ni a nilo tí a bá fúnni.',
                    state_of_origin_required: 'Ìpínlẹ̀ ìbílẹ̀ ni a nilo.',
                    lga_of_origin_required: 'Ìpínlẹ̀ ìbílẹ̀ ni a nilo.',
                    residential_address_required: 'Àdúúlẹ̀ ibẹ̀wọ̀ ni a nilo.',
                    city_town_required: 'Ìlú/ìlú ni a nilo.',
                    state_of_residence_required: 'Ìpínlẹ̀ ibẹ̀wọ̀ ni a nilo.',
                    lga_of_residence_required: 'Ìpínlẹ̀ ibẹ̀wọ̀ ni a nilo.',
                    ward_required: 'Wọ́ọ̀ ni a nilo.',
                    apc_registration_number_required: 'Nọ́mbà ìforúkọsílẹ̀ APC ni a nilo.',
                    valid_join_date_required: 'Ọjọ́ tí ó tọ́ tí a fi kọ́lẹ̀ ni a nilo (gbọ́dọ̀ jẹ́ ti òde òní).',
                    this_field_required: 'Èyí ni a nilo.',
                    this_field_required_if_yes: 'Èyí ni a nilo tí bẹẹni bá jẹ́.',
                    degree_required: 'Ìwé ẹ̀kọ́ ni a nilo.',
                    institution_required: 'Ìsàkóso ni a nilo.',
                    year_between_required: 'Ọdún láàárín 1950 àti 2025 ni a nilo.',
                    agree_declaration_required: 'O gbọ́dọ̀ gbà fún ìpolówó náà.',
                    invalid_date_format: 'Ìfòròwe ọjọ́ tí kò tọ́ tàbí ọjọ́ gbọ́dọ̀ jẹ́ ti òde òní (YYYY-MM-DD).',
                    enter_male_female: 'Jọ̀wọ́ kọ̀wé “ọkùnrin” tàbí “obìnrin”.',
                    invalid_email_format: 'Ìfòròwe fọ́mà imeeli tí kò tọ́.',
                    invalid_state_name: 'Orúkọ ìpínlẹ̀ tí kò tọ́.',
                    invalid_lga: 'Ìpínlẹ̀ tí kò tọ́ fún ìpínlẹ̀ tí a yan.',
                    enter_yes_no: 'Jọ̀wọ́ kọ̀wé “bẹẹni” tàbí “rara”.',
                    previous_position_required: 'Àwọn kọ́ọ̀kan tí ó ti wà tẹ́lẹ̀ ni a nilo.',
                    type_yes_to_agree: 'O gbọ́dọ̀ kọ̀wé “bẹẹni” láti gbà fún ìpolówó náà.',
                    personal_information: '1. Ìwé Ìdásílẹ̀ ti Aspirant',
                    contact_information: '2. Ìwé Ibaṣepọ',
                    party_affiliation: '3. Ìbáṣepọ Ẹgbẹ',
                    academic_qualifications: '4. Ìwé Ẹ̀kọ́',
                    list_qualifications: 'Jọwọ ṣe atokọ ìwé ẹ̀kọ́ rẹ, bẹ̀rẹ̀ lati ti o ga julọ.',
                    declaration: '5. Ipolowo',
                    access_denied: 'Iwa ti ko gba laaye',
                    nomination_code_required: 'Koodu yiyan ti o tọ ni a nilo lati wọle si fọọmu yìí.',
                    scan_qr: 'Jọwọ scan koodu QR lori kaadi yiyan APC rẹ ti o fọwọsi lati tẹsiwaju. Ti o ba ti ra kaadi rẹ, jọwọ gbiyanju lẹẹkansi.',
                    apc_wardship_nomination_form: 'Fọọmu Yiyan Wadi APC',
                    councilor_aspirant_registration: 'Iforukọsilẹ Aspirant Councilor',
                    apc_congress_2025: 'APC Congress 2025',
                    copyright_apc: '&copy; 2025 All Progressives Congress (APC). Gbogbo Ẹtọ Wa.',
                    powered_by: 'Ti a fúnni nipasẹ APC Directorate of Digital Operations.',
                    // ... add similar for other keys
                },
                // Similarly for ha and ig using the translations from the tool results
                ha: {
                    full_name: 'Sunan cikakken suna',
                    enter_full_name: 'Shigar da cikakken suna',
                    // Fill with Hausa translations
                    // ...
                },
                ig: {
                    full_name: 'Aha Ọpụrụmadụ',
                    enter_full_name: 'Tinye aha gị n'ozuzu',
                    // Fill with Igbo translations
                    // ...
                }
            };

            // Function to update language
            function updateLanguage(lang) {
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const key = el.dataset.i18n;
                    if (translations[lang][key]) {
                        el.textContent = translations[lang][key];
                    }
                });
                document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                    const key = el.dataset.i18nPlaceholder;
                    if (translations[lang][key]) {
                        el.placeholder = translations[lang][key];
                    }
                });
                // Update questions for chat
                questions = getQuestions(lang);
            }

            // Get questions for language
            function getQuestions(lang) {
                return [
                    { key: 'full_name', text: translations[lang].full_name_question, validate: (res) => res.trim() !== '', error: translations[lang].full_name_required },
                    // ... add all questions with translated text and error
                ];
            }

            // Language change listener
            document.querySelectorAll('input[name="language"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    updateLanguage(e.target.value);
                });
            });

            // Initial language
            updateLanguage('en');

            // Rest of the script remains similar, but update chat messages to use translations[currentLang]
            // For example, in startChat
            addMessage(translations[currentLang].welcome);
            addMessage(translations[currentLang].nomination_code_verified + ' ' + formData.nomination_code);

            // In validateForm, the errors are already handled by spans
            // For chat, the error messages are translated in the questions error

            // For APC colors, perhaps adjust if needed, but keep green as per original
            // ...
        });
    </script>
</body>
</html>
